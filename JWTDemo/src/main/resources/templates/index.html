<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link th:href="@{/css/notification.css}" rel="stylesheet">
<link th:href="@{/css/style.css}" rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

	<div class="header">
		<a href="#default" class="logo">CompanyLogo</a> <i
			class="notification"> <span class="fa fa-bell"></span> <span
			th:text="${count}" class="badge" data-toggle="modal"
			data-target="#myModal"></span>
		</i>

		<div class="header-right">
			<a class="active" href="#home">Home</a> <a href="#contact">Contact</a>
			<a href="#about">About</a>

			<div class="dropdown">
				<a class="dropbtn" onclick="myFunction()"> <img
					src="https://s3.eu-central-1.amazonaws.com/bootstrapbaymisc/blog/24_days_bootstrap/fox.jpg"
					width=40 height=40 style="border-radius: 50%;"></a>
			</div>
			<div class="dropdown-content" id="myDropdown">
				<a href="#" data-toggle="modal" data-target="#profileModal">Profile</a>
				<a href="#" data-toggle="modal" data-target="#cpModal">Change Password</a> <a href="#">Logout</a>
			</div>

			<!--Notification Modal -->
			<div class="modal fade" id="myModal" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">NOTIFICATIONS</h4>
						</div>
						<div class="modal-body">
							<table class="table table-condensed">
								<tbody>
									<tr>
										<th>Sl.No</th>
										<th style="text-align: center">Message</th>
										<th style="text-align: center">Time</th>
									</tr>
									<tr th:each="book, index: ${noticelist}">
										<td style="text-align: center" th:text="${index.count}" />
										<td style="text-align: center" th:text="${book.message}"
											th:id="'message' + ${book.id}" />
										<td style="text-align: center" th:text="${book.createdAt}"
											th:id="'createdAt' + ${book.id}" />

									</tr>
								</tbody>

							</table>
							<a style="padding: 15px 45px;" th:href="@{/getAllNotifications}">Show
								All Notifications</a>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default"
								data-dismiss="modal">Close</button>
						</div>
					</div>

				</div>
			</div>
			<!-- Profile Modal -->
			<div class="modal fade" id="profileModal" role="dialog">
				<div class="modal-dialog2">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">PROFILE</h4>
						</div>
						<div class="modal-body">

							<span class="textlevel">Name:</span><br>
							 <span class="textlevel">Email:</span><br>
							 <span class="textlevel">Mobile No:</span>

						</div>
					</div>
				</div>
			</div>
			
			<!--ChangePassword Modal -->
			<div class="modal fade" id="cpModal" role="dialog">
				<div class="modal-dialog3">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Change Password</h4>
						</div>
						<div class="modal-body">
							<table class="table table-condensed">
								<tbody>
									<tr>
								<th style="width: 150px;">Current Password</th>
								<td><input type="text" required placeholder="Enter current password"
									></td>
							</tr>
							<tr>
								<th style="width: 150px;">New Password</th>
								<td><input type="text" required
									placeholder="Enter new password" ></td>
							</tr>
							<tr>
								<th style="width: 150px;">Confirm Password</th>
								<td><input type="text" required
									placeholder="Enter confirm password"></td>
							</tr>
									</tbody>
									</table>
									</div>
									<div class="modal-footer"
					style="margin: 0px; padding: 10px; background: rgba(0, 0, 0, 0.8)">
					<button type="button" class="btn btn-info"
						style="width: 100px; height: 30px;" onclick="#"
						data-dismiss="modal">Change</button>
									</div>
									</div>
									</div>
								


		</div>
	</div>


	<script>
		/* When the user clicks on the button, 
		 toggle between hiding and showing the dropdown content */
		function myFunction() {
			document.getElementById("myDropdown").classList.toggle("show");
		}

		// Close the dropdown if the user clicks outside of it
		window.onclick = function(e) {
			if (!e.target.matches('.dropbtn')) {
				var myDropdown = document.getElementById("myDropdown");
				if (myDropdown.classList.contains('show')) {
					myDropdown.classList.remove('show');
				}
			}
		}
	</script>
</body>
</html>
